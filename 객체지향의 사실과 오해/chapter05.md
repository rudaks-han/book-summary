# 5장. 책임과 메시지

## 자율적인 책임
  - 자율적 : 자기 스스로의 원칙에 따라 어떤 일을 하거나 자신을 통제해서 절제하는 성질이나 특성.
  - 앨리스의 재판
    1. 자율적인 방식
       - 왕은 "증언하라" 요청(메시지)를 전송하면 모자 장수는 "증언할" 책임을 진다.
       - 이때 "증언"은 모자 장수의 자율적으로 증언되게 된다.
       - 자유도 생성
    2. 상세한 수준의 
       - 왕의 명령이 구체적으로 요청(메시지)가 전송되면 모자 장수는 전달받은 메시지가 자율을 통제 하게 된다.
       - 왕의 요청(메시지)에 대한 의존 관계 생성
  - 추상화
    1. 포괄적이고 추상적인 책임을 선택한다고 좋은것 만은 아님.
    2. "어떻게"가 아니라 "무엇"을 해야하는 지를 전달 되어야 한다.
  
## 메시지와 메서드
  - 메시지
    1. 하나의 객체는 메시지를 전송함으로써 다른 객체에 접근함.
    2. 왕은 "증언하라"라는 메시지를 통해 모자 장수와 협렵 한다.
    3. 메지시에 argument를 넣어 추가 정보를 제공 할 수 있다.
    4. 외부의 객체는 메시지에 관해서만 볼 수 있고, 객체 내부는 볼 수 없기 때문에 객체의 내/외부가 분리 된다.
  - 메서드
    1. 메시지를 처리 할 수 있는 두가지 방법
       - "증언하라"라는 메시지 전송
       - "증언하라"라는 메시지 수신 및 처리 : 이때 처리 하기 위해 내부적으로 선택하는 증언 방법이 메서드 이다.
    2. 메시지는 "어떻게" 수행될 것인지 명시 하지 않고, "무엇"이 실행되기 바라는지만 명시 된다.
    3. 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있는것이 객체지향의 핵심 특징 중 하나.
  - 다형성
    1. 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 다르게 반응 하는것.
       - 서로 다른 타입에 속하는 객체들이 동일한 메시지를 수신할 경우 다른 메서드를 이용해 처리할 수 있는 메커니즘.
    2. 메시지는 "무엇"이 실행 될지 명시하지만 "어떻게" 실행 할 것인지는 수신자가 결정 함.
    3. 앨리스 재판
       - 왕은 "증언하라"라는 메시지를 전송 할 수 있으며, 수신자는 모자 장수, 요리사, 앨리스가 될 수 있다.
       - 각 수신자 마다 다르게 증언할 수 있다.
    4. 서로 다른 객체들이 다형성을 만족한다는 것은 동일한 책임을 공유한다는 의미.
    5. 송신자 관점에서는 다형성적인 수신자를 구분할 필요가 없고, 요청에 대한 책임을 진다는 점에서 모두 동일 하다.
       - 왕의 입장에서는 "증언하라"라는 메시지를 이해할 수 있는 모든 객체는 동일하다.
    6. 다형성은 객체들의 대체 가능성을 이용해 설계를 유연하게 하고, 재사용을 가능하게 만든다.
    7. 다형성은 수신자의 종류를 캡슐화 한다.
       - 왕은 "증언하라" 수신하는 대상이 누구인지 알 필요가 없으며 "증인"역할을 하면 누구와도 협력이 가능하다.
    8. 다형성은 송신자와 수신자 간의 객체 타입에 대한 결합도를 낮춤으로써 달성 된다.
    9. 유연하고 확장 가능하고 재사용성이 높은 협력의 의미
       - 협력이 유연해 짐 : 메시지를 이해하는 누구라도 "책임" 역할을 할 수 있다.
       - 협력의 수행되는 방식 확장 가능 : "책임"역할을 하는데 있어서 방식(동영상 등)이 변경/확장 할 수 있다.
       - 협력이 수행되는 방식 재사용 가능 : "책임"을 수행하는 방식을 재사용 가능 하다.

## 메시지를 따라라
  - 객체지향의 핵심, 메시지
    1. 객체들이 서로 협력하기 위해 사용할 수 있는 유일한 방법은 메시지를 전송 하는 것이다.
    2. 클래스가 코드상의 중요한 추상화 도구 이지만, 객체지향 어플리케이션은 메시지를 통해 정의 된다.
       - 객체들의 윤곽을 결정하는 것은 객체들이 주고받는 메시지 이다.
    3. 클래스는 객체의 속성과 행위를 담는 틀일 뿐 이다.
    4. 훌륭한 객체지향 설계는 어떤 객체가 어떠한 메시지를 전송할 수 있는가와 어떤 객체가 어떠한 메시지를 이해 할 수 있는가를 중심으로 객체 사이의 협력 관계를 구성하는 것이다.
  - 책임-주도 설계
    1. 적절한 책임을 적절한 객체에게 할당하면서 메시지 기반으로 협력하는 객체간 관계를 발견하는 과정.
    2. 책임-주도 설계에서 역할,책임,협력을 식별 하는것 으로부터 시작됨.
    3. 책임-주도 설계의 핵심은 어떤 행위가 필요한지 결정 후에 이를 수행할 객체를 결정하는데 이것을 what/who 사이클 이라고 한다.
    4. 협력을 하기 위한 메시지를 먼저 결정한 후에 메시지르 수신하기 적합한 객체를 선택하며, 수신된 메시지가 객체의 책임을 결정 한다.
    5. 메시지를 먼저 결정함으로써 객체의 인터페이스를 발견 할 수 있다.
    6. 송신자는 수신자의 객체가 캡술화 되어 있어 어떠한 객체인지 모르지만, 믿고 메시지를 전송 할 수 밖에 없는데 이런 패턴은 "묻지 말고 시켜라"이다.
    7. "묻지 말고 시켜라"가 되려면 객체는 캡슐화가 되어야 하고, 객체간의 느슨한 결합으로 이루어 져있어야 한다.

## 객체 인터페이스
  - 인터페이스란 두 사물이 마주치는 경계 지점에서 상호작용 할 수 있게 이어주는 방법이나 장치
  - 인터페이스 특징
    1. 인터페이스의 사용법을 익히면 내부 구조난 동작 방식은 몰라도 쉽게 대상을 조작이나 의사를 전달 할 수 있다.
    2. 인터페이스만 유지 된다면 이를 사용하는 사용자에게 영향도 없이 내부를 변경 시킬수 있다.
    3. 인터페이스만 유지 된다면 동작하는 대상이 변경 될 수 있다.
  - 메시지가 인터페이스를 결정 한다.
  - 인터페이스는 내/외부 인터페이스로 나눌수 있다.

## 인터페이스와 구현의 분리
  - 객체지향적인 사고 방식을 이해하기 위한 3가지 원칙
    1. 좀 더 추상적인 인터페이스
       - "증언하라"라는 좀더 추상적인 수진의 인터페이스 제공
    2. 최소 인터페이스
       - 외부에서 사용할 필요 없는 인터페이스는 최대한 노출 하지 말아야 한다.
    3. 인터페이스와 구현 간에 차이가 있다는 점을 인식
       - 객체는 상태를 가지며 외부인터페이스의 일부가 아니다.
  - 인터페이스와 구현의 분리 원칙
    1. 훌륭한 객체란 구현을 모른 채 인터페이스만 알면 쉽게 상호작용할 수 있는 객체를 의미한다.
    2. 객체를 설계 할 때 외부 인테페이스와 객체의 구현부를 명확하게 분리되는 것을 "인터페이스와 구현의 분리"원칙이라고 한다.
    3. "인터페이스와 구현의 분리"원칙은 변경 용의성을 높이고자 함이다.
    4. "인터페이스와 구현의 분리"원칙을 수행하기 위한 객체 설계 방법을 캡슐화라고 한다.

## 책임의 자율성이 협력의 품질을 결정한다.
  - 자율적인 책임은 협력을 단순하게 만든다.
    1. 메시지가 단순 할 수록(ex. "증언하라") 협력이 단순해 지며, 이를 "책임이 적절하게 추상화된다"라고 한다.
  - 자율적인 책임은 모자 장수의 외부와 내부를 명확하게 분리 한다.
    1. 메시지가 단순 할 수록 다양한 방식으로 책임을 수행 할 수 있다. 
  - 책임이 자율적일 경우 책임을 수행하는 내부적인 방법을 변경하더라도 외부에 영향을 미치치 않는다.
    1. 메시지가 단순 할 수록 다양한 방식으로 책임을 수행하는 방식이 변경되더라도 송신자에게 영향을 미치치 않는다.
  - 자율적인 책임은 협력의 대상을 다양하게 선택할 수 있는 유연성을 제공한다.
    1. "증언"의 수신자가 변경되더라도 송신자에게 영향을 미치치 않는다.
  - 객체가 수행하는 책임들이 자율적일수록 객체의 역할을 이해하기 쉬워진다.
    1. 외부인테페이스가 내부 구현체와 분리되어 있을 수록 해당 어플리케이션은 이해하기 쉬워진다.