# 6장 트우터

## 6.4 설계 개요

어떤 사용자는 집에 있는 데스크톰으로 트우터 웹사이트에 접속할 수 있고 어떤 사용자는 스마트폰으로 트우터를 실행할 수 있기 때문이다. 다양한 환경의 사용자가 어떻게 서로 통신할 수 있을까?

보통 소프트웨어 개발자는 이런 문제를 클라이언트 서버 모델로 해결한다.



### 6.4.1 풀 기반

풀 기반 통신에서는 클라이언트가 서버로 정보를 요청한다.



### 6.4.2 푸시 기반

푸시 기반 통신 방법도 있다. 이를 리액티브 또는 이벤트 주도 통신이라고 부른다.



## 6.5 이벤트에서 설계까지

### 6.5.1 통신

* 웹소켓은 TCP 스트림으로 양방향 이벤트 통신을 지원하는 가벼운 통신 프로토콜이다.
* 요즘은 아마존의 단순 큐 서비스(SQS) 같은 호스트된 클라우드 기반 메시지 큐를 메시지 송출이나 수신에 점점 많이 사용한다.
* 메시지 전송이나 메시지 큐를 구현하는 오픈 소스인 Aeron, ZeroMQ, AMPQ로 구현하는 방법도 있다.



### 6.5.2 GUI

### 6.5.3 영구 저장

트우터는 수신한 데이터를 어떻게 저장할까?

* 직접 인덱스하고 검색할 수 있는 일반 텍스트 파일
* 전통적인 SQL 데이터베이스
* NoSQL 데이터베이스



### 6.4.2 육각형 아키텍처

앨리스터 콕번이 정립한 포트와 어댑터 또는 육각형 아키텍처라 불리는 조금 더 일반화된 아키텍처를 적용해 이 문제를 해결할 수 있다.

코어 비즈니스 로직과 분리하려는 특정 기술이 있다면 포트를 이용한다. 외부 이벤트는 포트를 통해 코어 비즈니스 로직으로 전달된다. 어댑터는 포트로 연결하는 특정 기술을 이요한 구현 코드다.































